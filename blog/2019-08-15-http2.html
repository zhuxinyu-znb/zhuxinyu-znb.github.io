<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HTTP协议那些事(二) | zxy的前端日志</title>
    <meta name="description" content="大前端之路开启">
    <link rel="icon" href="/tom.jpg">
    
    <link rel="preload" href="/assets/css/0.styles.0cbbf90a.css" as="style"><link rel="preload" href="/assets/js/app.4d237ac1.js" as="script"><link rel="preload" href="/assets/js/2.a060ff2c.js" as="script"><link rel="preload" href="/assets/js/29.488210dd.js" as="script"><link rel="prefetch" href="/assets/js/10.9b1783bd.js"><link rel="prefetch" href="/assets/js/100.f2ba88c1.js"><link rel="prefetch" href="/assets/js/101.5e4ff941.js"><link rel="prefetch" href="/assets/js/102.3b9faf71.js"><link rel="prefetch" href="/assets/js/103.ef114a14.js"><link rel="prefetch" href="/assets/js/104.038f45d3.js"><link rel="prefetch" href="/assets/js/105.5b457551.js"><link rel="prefetch" href="/assets/js/106.c1138d30.js"><link rel="prefetch" href="/assets/js/107.52f38a92.js"><link rel="prefetch" href="/assets/js/108.a794593b.js"><link rel="prefetch" href="/assets/js/109.18b69319.js"><link rel="prefetch" href="/assets/js/11.9c1e82ab.js"><link rel="prefetch" href="/assets/js/110.2261fb1b.js"><link rel="prefetch" href="/assets/js/111.00ccfb14.js"><link rel="prefetch" href="/assets/js/112.a9104a88.js"><link rel="prefetch" href="/assets/js/113.9f3a8f8a.js"><link rel="prefetch" href="/assets/js/114.206ecfeb.js"><link rel="prefetch" href="/assets/js/115.5745e2df.js"><link rel="prefetch" href="/assets/js/116.c1f7447b.js"><link rel="prefetch" href="/assets/js/117.9e065728.js"><link rel="prefetch" href="/assets/js/118.0f2d3691.js"><link rel="prefetch" href="/assets/js/119.6bea2203.js"><link rel="prefetch" href="/assets/js/12.67149a6a.js"><link rel="prefetch" href="/assets/js/120.32450f30.js"><link rel="prefetch" href="/assets/js/121.fee9f710.js"><link rel="prefetch" href="/assets/js/122.def18904.js"><link rel="prefetch" href="/assets/js/123.25039dca.js"><link rel="prefetch" href="/assets/js/124.c4050122.js"><link rel="prefetch" href="/assets/js/125.46b40dfe.js"><link rel="prefetch" href="/assets/js/126.51a1a5d8.js"><link rel="prefetch" href="/assets/js/127.7867f500.js"><link rel="prefetch" href="/assets/js/128.49de406e.js"><link rel="prefetch" href="/assets/js/129.cdf49571.js"><link rel="prefetch" href="/assets/js/13.fb79cecf.js"><link rel="prefetch" href="/assets/js/130.8b3710bf.js"><link rel="prefetch" href="/assets/js/131.36dfdd90.js"><link rel="prefetch" href="/assets/js/132.e44f7288.js"><link rel="prefetch" href="/assets/js/133.ec885b28.js"><link rel="prefetch" href="/assets/js/134.f1316579.js"><link rel="prefetch" href="/assets/js/135.ecf5779f.js"><link rel="prefetch" href="/assets/js/136.996ceb08.js"><link rel="prefetch" href="/assets/js/137.0b240ef8.js"><link rel="prefetch" href="/assets/js/138.de8c92b0.js"><link rel="prefetch" href="/assets/js/139.aa2176ad.js"><link rel="prefetch" href="/assets/js/14.7f7c1b73.js"><link rel="prefetch" href="/assets/js/140.5e8ac77c.js"><link rel="prefetch" href="/assets/js/141.abbc86d6.js"><link rel="prefetch" href="/assets/js/142.9174e4b3.js"><link rel="prefetch" href="/assets/js/143.22fd8bba.js"><link rel="prefetch" href="/assets/js/144.aed38b7d.js"><link rel="prefetch" href="/assets/js/145.a6813681.js"><link rel="prefetch" href="/assets/js/146.41a80028.js"><link rel="prefetch" href="/assets/js/147.ba1a7770.js"><link rel="prefetch" href="/assets/js/148.877bea00.js"><link rel="prefetch" href="/assets/js/149.27096d07.js"><link rel="prefetch" href="/assets/js/15.fbb3ce6c.js"><link rel="prefetch" href="/assets/js/150.4eb384a9.js"><link rel="prefetch" href="/assets/js/151.528f4deb.js"><link rel="prefetch" href="/assets/js/152.192e9a1f.js"><link rel="prefetch" href="/assets/js/153.a3b71eb6.js"><link rel="prefetch" href="/assets/js/154.df79b8cb.js"><link rel="prefetch" href="/assets/js/155.aec97f81.js"><link rel="prefetch" href="/assets/js/16.03657715.js"><link rel="prefetch" href="/assets/js/17.20cbf2da.js"><link rel="prefetch" href="/assets/js/18.12a5dc5c.js"><link rel="prefetch" href="/assets/js/19.726a67f7.js"><link rel="prefetch" href="/assets/js/20.836a5d40.js"><link rel="prefetch" href="/assets/js/21.c951da6e.js"><link rel="prefetch" href="/assets/js/22.87c90120.js"><link rel="prefetch" href="/assets/js/23.99c7dbfb.js"><link rel="prefetch" href="/assets/js/24.d8c6d636.js"><link rel="prefetch" href="/assets/js/25.bb1086c1.js"><link rel="prefetch" href="/assets/js/26.31634d99.js"><link rel="prefetch" href="/assets/js/27.2fb85e0f.js"><link rel="prefetch" href="/assets/js/28.696d685c.js"><link rel="prefetch" href="/assets/js/3.78e42548.js"><link rel="prefetch" href="/assets/js/30.2ba4ba04.js"><link rel="prefetch" href="/assets/js/31.d141acc1.js"><link rel="prefetch" href="/assets/js/32.086dce6f.js"><link rel="prefetch" href="/assets/js/33.ed1968ff.js"><link rel="prefetch" href="/assets/js/34.77827aa7.js"><link rel="prefetch" href="/assets/js/35.d5b914d6.js"><link rel="prefetch" href="/assets/js/36.f9397b07.js"><link rel="prefetch" href="/assets/js/37.64beee5f.js"><link rel="prefetch" href="/assets/js/38.67130674.js"><link rel="prefetch" href="/assets/js/39.de9f3702.js"><link rel="prefetch" href="/assets/js/4.5197eef5.js"><link rel="prefetch" href="/assets/js/40.f23dcf4c.js"><link rel="prefetch" href="/assets/js/41.b6418c92.js"><link rel="prefetch" href="/assets/js/42.75dabff5.js"><link rel="prefetch" href="/assets/js/43.7e1d7e20.js"><link rel="prefetch" href="/assets/js/44.53712706.js"><link rel="prefetch" href="/assets/js/45.dafdeeff.js"><link rel="prefetch" href="/assets/js/46.66f32e9c.js"><link rel="prefetch" href="/assets/js/47.23958449.js"><link rel="prefetch" href="/assets/js/48.f4ec7b60.js"><link rel="prefetch" href="/assets/js/49.518f1bec.js"><link rel="prefetch" href="/assets/js/5.b26139fb.js"><link rel="prefetch" href="/assets/js/50.c8e8fb43.js"><link rel="prefetch" href="/assets/js/51.5f15d9c7.js"><link rel="prefetch" href="/assets/js/52.4db4cdfb.js"><link rel="prefetch" href="/assets/js/53.6af7b618.js"><link rel="prefetch" href="/assets/js/54.fec88fbe.js"><link rel="prefetch" href="/assets/js/55.a7e02100.js"><link rel="prefetch" href="/assets/js/56.67d70446.js"><link rel="prefetch" href="/assets/js/57.4866ef69.js"><link rel="prefetch" href="/assets/js/58.e6488e01.js"><link rel="prefetch" href="/assets/js/59.2467dc1e.js"><link rel="prefetch" href="/assets/js/6.b88b0bec.js"><link rel="prefetch" href="/assets/js/60.a4188798.js"><link rel="prefetch" href="/assets/js/61.b275a457.js"><link rel="prefetch" href="/assets/js/62.d6b63240.js"><link rel="prefetch" href="/assets/js/63.681f3d8b.js"><link rel="prefetch" href="/assets/js/64.9eeded5a.js"><link rel="prefetch" href="/assets/js/65.19721dd4.js"><link rel="prefetch" href="/assets/js/66.038614c3.js"><link rel="prefetch" href="/assets/js/67.d802f033.js"><link rel="prefetch" href="/assets/js/68.ce021a23.js"><link rel="prefetch" href="/assets/js/69.7ceca11e.js"><link rel="prefetch" href="/assets/js/7.0d983d99.js"><link rel="prefetch" href="/assets/js/70.f997d037.js"><link rel="prefetch" href="/assets/js/71.c1557031.js"><link rel="prefetch" href="/assets/js/72.2d9f5c4e.js"><link rel="prefetch" href="/assets/js/73.11ad7e38.js"><link rel="prefetch" href="/assets/js/74.eab8f5c6.js"><link rel="prefetch" href="/assets/js/75.e9fb6786.js"><link rel="prefetch" href="/assets/js/76.abdc4f64.js"><link rel="prefetch" href="/assets/js/77.dc44de72.js"><link rel="prefetch" href="/assets/js/78.ebf803d8.js"><link rel="prefetch" href="/assets/js/79.3228bce2.js"><link rel="prefetch" href="/assets/js/8.8a23a928.js"><link rel="prefetch" href="/assets/js/80.8c3fdc1e.js"><link rel="prefetch" href="/assets/js/81.f1472a60.js"><link rel="prefetch" href="/assets/js/82.95875586.js"><link rel="prefetch" href="/assets/js/83.6bfbbc19.js"><link rel="prefetch" href="/assets/js/84.91ade6f8.js"><link rel="prefetch" href="/assets/js/85.b5fdbf72.js"><link rel="prefetch" href="/assets/js/86.9d1404c5.js"><link rel="prefetch" href="/assets/js/87.0567def1.js"><link rel="prefetch" href="/assets/js/88.0763a6b6.js"><link rel="prefetch" href="/assets/js/89.b76800ed.js"><link rel="prefetch" href="/assets/js/9.11df2484.js"><link rel="prefetch" href="/assets/js/90.e9371a29.js"><link rel="prefetch" href="/assets/js/91.3abf758b.js"><link rel="prefetch" href="/assets/js/92.49121cc0.js"><link rel="prefetch" href="/assets/js/93.e7b2f6cc.js"><link rel="prefetch" href="/assets/js/94.c3307a0b.js"><link rel="prefetch" href="/assets/js/95.90dfe36e.js"><link rel="prefetch" href="/assets/js/96.4df4988a.js"><link rel="prefetch" href="/assets/js/97.60b1c42f.js"><link rel="prefetch" href="/assets/js/98.6394b8d8.js"><link rel="prefetch" href="/assets/js/99.98be11a9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0cbbf90a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">zxy的前端日志</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">博客</a></div><div class="nav-item"><a href="/interview/" class="nav-link">面试题</a></div><div class="nav-item"><a href="/book/" class="nav-link">阅读</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">博客</a></div><div class="nav-item"><a href="/interview/" class="nav-link">面试题</a></div><div class="nav-item"><a href="/book/" class="nav-link">阅读</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>PHP</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/2019-05-28-php.html" class="sidebar-link">PHP学习(一) 基础语法</a></li><li><a href="/blog/2019-06-05-php&amp;mysql.html" class="sidebar-link">PHP学习(二) php与mysql</a></li><li><a href="/blog/2019-06-05-php_OOP_introduction.html" class="sidebar-link">PHP学习(三) php面向对象介绍</a></li><li><a href="/blog/2019-06-05-PHP_construct.html" class="sidebar-link">PHP学习(四) 构造方法和析构方法</a></li><li><a href="/blog/2019-06-10-OOP_fengzhuang.html" class="sidebar-link">PHP学习(五) PHP面向对象之封装性</a></li><li><a href="/blog/2019-06-10-OOP_jicheng_duotai.html" class="sidebar-link">PHP学习(六) PHP面向对象之继承与多态</a></li><li><a href="/blog/2019-06-10-OOP_interface_abstract.html" class="sidebar-link">PHP学习(七) PHP抽象类与接口</a></li><li><a href="/blog/2019-06-11-OPP_error.html" class="sidebar-link">PHP学习(八) PHP异常处理</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>node</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/2019-06-25-node.html" class="sidebar-link">Node.js学习(基础)</a></li><li><a href="/blog/2019-06-26-express1.html" class="sidebar-link">express学习(一) express介绍</a></li><li><a href="/blog/2019-06-27-express-middleware.html" class="sidebar-link">express学习(二) 中间件</a></li><li><a href="/blog/2019-06-27-express-router.html" class="sidebar-link">express学习(三) 路由</a></li><li><a href="/blog/2019-06-27-express-error.html" class="sidebar-link">express学习(四) 错误处理</a></li><li><a href="/blog/2019-08-19-node.html" class="sidebar-link">大规模NodeJS项目架构与优化</a></li><li><a href="/blog/2019-08-20-node-pachong.html" class="sidebar-link">爬虫</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>工程化</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/2019-06-27-qa.html" class="sidebar-link">Javascript与QA工程师(一)</a></li><li><a href="/blog/2019-08-04-QA.html" class="sidebar-link">Javascript与QA工程师(二)</a></li><li><a href="/blog/2019-07-05-webpack1.html" class="sidebar-link">webpack4(一) webpack的核心概念</a></li><li><a href="/blog/2019-07-05-webpack2.html" class="sidebar-link">webpack4(二) webpack的高级概念</a></li><li><a href="/blog/2019-07-09-webpack3.html" class="sidebar-link">webpack4(三) webpack实战配置</a></li><li><a href="/blog/2019-07-10-webpack4.html" class="sidebar-link">webpack4(四) webpack底层原理及脚手架工具分析</a></li><li><a href="/blog/2019-08-28-gongchenghua1.html" class="sidebar-link">前端工程化Linux预备知识</a></li><li><a href="/blog/2019-08-29-jenkins.html" class="sidebar-link">前端工程化之CI&amp;CD --jenkins</a></li><li><a href="/blog/2019-09-02-chixujicheng.html" class="sidebar-link">从0到大论前端持续集成</a></li><li><a href="/blog/2019-09-02-mycli.html" class="sidebar-link">手写一个自己的cli</a></li><li><a href="/blog/2019-09-04-gulp.html" class="sidebar-link">构建工具</a></li><li><a href="/blog/2019-10-17-rongcuo.html" class="sidebar-link">容错</a></li><li><a href="/blog/2019-11-14-docker.html" class="sidebar-link">微服务入门与Docker实战</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>性能优化</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/2019-09-11-xingnengyouhua.html" class="sidebar-link">前端性能优化 服务器</a></li><li><a href="/blog/2019-09-12-yahujungui.html" class="sidebar-link">雅虎军规</a></li><li><a href="/blog/2019-09-16-xingnengyouhua.html" class="sidebar-link">前端架构与性能优化那些事儿</a></li><li><a href="/blog/2019-12-12-webpack.html" class="sidebar-link">webpack 性能优化</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>CSS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/2019-10-09-css-workflow.html" class="sidebar-link">现代化css方法论 CSS WorkFlow</a></li><li><a href="/blog/2019-10-10-css-hodini.html" class="sidebar-link">CSS魔术师Houdini</a></li><li><a href="/blog/2019-11-18-flex-css.html" class="sidebar-link">flex布局</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>js基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/2019-12-02-es6-Map.html" class="sidebar-link">Set 和 Map</a></li><li><a href="/blog/2019-12-10-jicheng.html" class="sidebar-link">继承</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>编程基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/2019-07-31-fp-.html" class="sidebar-link">函数式编程</a></li><li><a href="/blog/2019-10-20-sixiang.html" class="sidebar-link">面向切面的编程思想</a></li><li><a href="/blog/2020-01-05-shejimoshi.html" class="sidebar-link">设计模式</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Linux</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/2019-05-27-Linux-instructions.html" class="sidebar-link">Linux常用指令</a></li><li><a href="/blog/2019-07-31-linux.html" class="sidebar-link">Linux预读</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>浏览器网络协议</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/2019-08-14-http1.html" class="sidebar-link">HTTP协议那些事(一)</a></li><li><a href="/blog/2019-08-15-http2.html" class="active sidebar-link">HTTP协议那些事(二)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/2019-08-15-http2.html#密码学入门" class="sidebar-link">密码学入门</a></li><li class="sidebar-sub-header"><a href="/blog/2019-08-15-http2.html#https-协议分析" class="sidebar-link">HTTPS 协议分析</a></li><li class="sidebar-sub-header"><a href="/blog/2019-08-15-http2.html#http2-协议分析" class="sidebar-link">HTTP2 协议分析</a></li><li class="sidebar-sub-header"><a href="/blog/2019-08-15-http2.html#了解-http3" class="sidebar-link">了解 HTTP3</a></li><li class="sidebar-sub-header"><a href="/blog/2019-08-15-http2.html#后台服务与-http" class="sidebar-link">后台服务与 HTTP</a></li><li class="sidebar-sub-header"><a href="/blog/2019-08-15-http2.html#反向代理与web服务" class="sidebar-link">反向代理与WEB服务</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>数据结构与算法</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/2019-12-06-data.html" class="sidebar-link">基础数据结构</a></li><li><a href="/blog/2019-12-04-sort.html" class="sidebar-link">排序算法</a></li><li><a href="/blog/2019-12-10-suanfa.html" class="sidebar-link">算法概论</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>图形学</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/2019-12-15-canvas.html" class="sidebar-link">canvas 2d 入门</a></li><li><a href="/blog/2019-12-15-3d入门.html" class="sidebar-link">3D图形学入门</a></li><li><a href="/blog/2019-12-15-webgl1.html" class="sidebar-link">WebGL 概述</a></li><li><a href="/blog/2019-12-15-webgl入门.html" class="sidebar-link">WebGL 入门</a></li><li><a href="/blog/2020-09-16-three1.html" class="sidebar-link">threejs 入门（一）</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>electron</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/2020-01-31-electron.html" class="sidebar-link">electron学习(一) 基础概念</a></li><li><a href="/blog/2020-02-01-electron.html" class="sidebar-link">electron学习(二) 环境配置</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>tensorflow</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/2020-02-04-tensorflow.html" class="sidebar-link">神经网络</a></li><li><a href="/blog/2020-02-05-tensorflow.html" class="sidebar-link">线性回归任务</a></li><li><a href="/blog/2020-02-05-tensorflow2.html" class="sidebar-link">归一化任务</a></li><li><a href="/blog/2020-02-06-tensorflow.html" class="sidebar-link">逻辑回归任务</a></li><li><a href="/blog/2020-02-06-tensorflow2.html" class="sidebar-link">多层神经网络任务</a></li><li><a href="/blog/2020-02-07-tensorflow.html" class="sidebar-link">多分类任务</a></li><li><a href="/blog/2020-02-07-tensorflow2.html" class="sidebar-link">欠拟合与过拟合任务</a></li><li><a href="/blog/2020-02-08-tensorflow.html" class="sidebar-link">使用卷积神经网络识别手写数字任务</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>源码解读</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/2019-11-13-yuanmadu.html" class="sidebar-link">如何阅读源码</a></li><li><a href="/blog/react源码1.html" class="sidebar-link">React 源码解读（一）JSX</a></li><li><a href="/blog/react源码2.html" class="sidebar-link">React 源码解读（二） Fiber Root</a></li><li><a href="/blog/react源码3.html" class="sidebar-link">React 源码解读（三） requestWork</a></li><li><a href="/blog/react源码4.html" class="sidebar-link">React 源码解读（四） setState</a></li><li><a href="/blog/react源码5.html" class="sidebar-link">React 源码解读（五） hooks</a></li><li><a href="/blog/react源码6.html" class="sidebar-link">React 源码解读（六） hooks 原理（useState）</a></li><li><a href="/blog/2019-12-13-diff.html" class="sidebar-link">手写 Dom dff</a></li><li><a href="/blog/2019-11-27-webpack.html" class="sidebar-link">webpack源码（一）</a></li><li><a href="/blog/2019-12-01-webpack.html" class="sidebar-link">webpack源码（二）</a></li><li><a href="/blog/2019-12-04-koa.html" class="sidebar-link">手写 Koa</a></li><li><a href="/blog/2019-12-24-create-react-app.html" class="sidebar-link">create-react-app 源码分析</a></li><li><a href="/blog/2020-06-08-lottie.html" class="sidebar-link">lottie原理探索</a></li><li><a href="/blog/2020-06-30-vue源码.html" class="sidebar-link">Vue2源码解析</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>实战</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/webpack-0-1.html" class="sidebar-link">实战（一） webpack 环境搭建</a></li><li><a href="/blog/2019-11-18-react.html" class="sidebar-link">实战（二）react-hooks、路由</a></li><li><a href="/blog/2019-11-14-node.html" class="sidebar-link">实战（三） node中间层</a></li><li><a href="/blog/2019-11-22-gulp.html" class="sidebar-link">实战（四） gulp 流清洗</a></li><li><a href="/blog/2019-08-25-bff-shizhan.html" class="sidebar-link">BFF实战</a></li><li><a href="/blog/2019-09-07-webpack-shizhan.html" class="sidebar-link">工程化实战</a></li><li><a href="/blog/2019-10-10-xingnengyouhua-shizhan.html" class="sidebar-link">性能优化实战</a></li><li><a href="/blog/2019-10-14-xingnengyouhua-shizhan2.html" class="sidebar-link">性能优化实战(二)</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="http协议那些事-二"><a href="#http协议那些事-二" class="header-anchor">#</a> HTTP协议那些事(二)</h1> <h2 id="密码学入门"><a href="#密码学入门" class="header-anchor">#</a> 密码学入门</h2> <h3 id="密码学入门-2"><a href="#密码学入门-2" class="header-anchor">#</a> 密码学入门</h3> <ul><li><p>密码学的处理对象是数字和字符串。</p></li> <li><p>散列(哈希、md5等)是一种数据一旦转换为其他形式将永远无法恢复的加密技术。</p></li> <li><p>加密</p></li></ul> <ul><li>对称加密（AES、DES、3DES）</li> <li>非对称加密（RSA）</li></ul> <ul><li>密钥交换算法</li></ul> <ul><li>Diffie-Hellman算法是一种著名的密钥协商算法，这种算法可以使得信息交换的双方通过公开的非安 全的网络协商生成安全的共享密钥。</li></ul> <ul><li>（1）Alice与Bob确定两个大素数n和g，这两个数不用保密</li> <li>（2）Alice选择另一个大随机数x，并计算A如下：A=gx mod n</li> <li>（3）Alice将A发给Bob</li> <li>（4）Bob选择另一个大随机数y，并计算B如下：B=gy mod n</li> <li>（5）Bob将B发给Alice</li> <li>（6）计算秘密密钥K1如下：K1=Bx mod n</li> <li>（7）计算秘密密钥K2如下：K2=Ay mod n</li> <li>K1=K2，因此Alice和Bob可以用其进行加解密</li></ul> <h3 id="证书签发机构（ca）"><a href="#证书签发机构（ca）" class="header-anchor">#</a> 证书签发机构（CA）</h3> <ul><li><p>通过CA发放的证书完成密钥的交换，实际上是利用非对称的加密算法完成数据加密密钥 的安全交换，然后再利用数据加密密钥完成数据的安全交换。</p></li> <li><p>数字证书：数字证书是互联网通信中标识双方身份信息的数字文件，由CA签发。 CA：CA（certification authority）是数字证书的签发机构。作为权威机构，其审核申请 者身份后签发数字证书，这样我们只需要校验数字证书即可确定对方的真实身份。</p></li> <li><p>CA的工作流程:</p></li></ul> <ul><li>1.服务器 example.com将从CA请求TLS证书，例如 Digicert。</li> <li>2.Digicert将为example.com创建证书，证书将包含必要的数据，例如服务器名称， 服务器的公钥等。</li> <li>3.Digicert将创建数据（证书）的哈希值，并使用自己的私钥对其进行加密。</li> <li>4.浏览器和操作系统自带Digicert等权威机构的公钥。</li> <li>5.当浏览器收到签名证书时，它将使用公钥从签名生成哈希值，它还将使用证书中指定的散列算法生成数据（证书）的散列，如果两个哈希值匹配，则签名验证成 功并且证书是可信的。</li> <li>6.现在浏览器可以使用证书中指定的example.com的公钥继续进行身份验证过程。
在这里，我们可以将Digicert称为 Root CA.</li></ul> <h3 id="浏览器如何验证服务器证书的有效性"><a href="#浏览器如何验证服务器证书的有效性" class="header-anchor">#</a> 浏览器如何验证服务器证书的有效性</h3> <ul><li><p>证书颁发机构是为服务器创建并签署证书，很少有组织从事这项工 作，即Digicert，Geotrust，Comodo等。如果他们正在为所有服务器 签署证书，则必须为所有签名使用相同的私钥，如果它被盗，那么所 有的信任都会丢失。为了解决这个问题并增加更多的平均信息量，引 入了中间CA(intermediate CA)的概念。</p></li> <li><p>服务器使用中级证书颁发机构的签名，因此，在与浏览器通信时，服 务器将共享两个证书：</p></li></ul> <ul><li>1.包含服务器的公钥，即实际的服务器证书；</li> <li>2.由 Root CA 颁发的 intermediate CA 证书。</li></ul> <ul><li>在签名验证期间，浏览器首先使用已经存储在浏览器中的Root CA的 公钥来验证中间证书的数字签名，如果成功，浏览器现在可以信任中 间证书及其公钥。现在使用此公钥，浏览器将验证原始服务器证书的 签名，该组织可以注册为intermediate CA，以便为其域签署证书。</li></ul> <h3 id="ssl-tls协议"><a href="#ssl-tls协议" class="header-anchor">#</a> SSL/TLS协议</h3> <ul><li><p>传输层安全性协议（Transport Layer Security - TLS），及其前身安全套接层（Secure Sockets Layer - SSL）是一种安全协议，目的是为互联网通信提供安全及数据完整性保障。</p></li> <li><p>HTTPS协议的安全性由SSL协议实现，当前使用的TLS协议 1.2 版本包含了四个核心子协 议：握手协议、密钥配置切换协议、应用数据协议及报警协议。</p></li></ul> <ul><li>TLS适用于对称密钥</li> <li>对称密钥可以通过安全密钥交换算法共享</li> <li>如果请求被截获，密钥交换可能会被欺骗</li> <li>使用数字签名进行身份验证</li> <li>证书颁发机构和信任链。</li></ul> <ul><li>HTTPS协议、SSL协议、TLS协议、握手协议的关系</li></ul> <ul><li>HTTPS是Hypertext Transfer Protocol over Secure Socket Layer的缩写，即HTTP over SSL，可理解为基于SSL的HTTP协议。HTTPS协议安全是由SSL协议实现的。</li> <li>SSL协议是一种记录协议，扩展性良好，可以很方便的添加子协议</li> <li>握手协议是SSL协议的一个子协议。</li> <li>TLS协议是SSL协议的后续版本，本文中涉及的SSL协议默认是TLS协议1.2版本。</li></ul> <h2 id="https-协议分析"><a href="#https-协议分析" class="header-anchor">#</a> HTTPS 协议分析</h2> <p>TLS 握手的步骤：</p> <ol><li>ClientHello：客户端发送所支持的 SSL/TLS 最高协议版本号和所支持的加密算法集合及压缩方法集合等信息给 服务器端。</li> <li>ServerHello：服务器端收到客户端信息后，选定双方都能够支持的 SSL/TLS 协议版本和加密方法及压缩方法， 返回给客户端。</li> <li>SendCertificate（可选）：服务器端发送服务端证书给客户端。</li> <li>RequestCertificate（可选）：如果选择双向验证，服务器端向客户端请求客户端证书。</li> <li>ServerHelloDone：服务器端通知客户端初始协商结束。</li> <li>ResponseCertificate（可选）：如果选择双向验证，客户端向服务器端发送客户端证书。</li> <li>ClientKeyExchange：客户端使用服务器端的公钥，对客户端公钥和密钥种子进行加密，再发送给服务器端。</li> <li>CertificateVerify（可选）：如果选择双向验证，客户端用本地私钥生成数字签名，并发送给服务器端，让其通 过收到的客户端公钥进行身份验证。</li> <li>CreateSecretKey：通讯双方基于密钥种子等信息生成通讯密钥。</li> <li>ChangeCipherSpec：客户端通知服务器端已将通讯方式切换到加密模式。</li> <li>Finished：客户端做好加密通讯的准备。</li> <li>ChangeCipherSpec：服务器端通知客户端已将通讯方式切换到加密模式。</li> <li>Finished：服务器做好加密通讯的准备。</li> <li>Encrypted/DecryptedData：双方使用客户端密钥，通过对称加密算法对通讯内容进行加密。</li> <li>ClosedConnection：通讯结束后，任何一方发出断开 SSL 连接的消息。</li></ol> <h2 id="http2-协议分析"><a href="#http2-协议分析" class="header-anchor">#</a> HTTP2 协议分析</h2> <h3 id="http-2协议分析"><a href="#http-2协议分析" class="header-anchor">#</a> HTTP 2协议分析</h3> <ul><li>HTTP/2 没有改动 HTTP 的应用语义。 HTTP 方法、状态代码、URI 和标 头字段等核心概念一如往常。</li> <li>HTTP/2 修改了数据格式化（分帧）以及在客户端与服务器间传输的方 式。这两点统帅全局，通过新的分帧层向我们的应用隐藏了所有复杂性。</li> <li>由于HTTP/2 引入了一个新的二进制分帧层，该层无法与之前的 HTTP/ 1.x 服务器和客户端向后兼容，因此协议的主版本提升到 HTTP/2。</li> <li>HTTP2的特点：</li></ul> <ul><li>使用二进制格式传输，更高效、更紧凑。</li> <li>对报头压缩，降低开销。</li> <li>多路复用，一个网络连接实现并行请求。</li> <li>服务器主动推送，减少请求的延迟</li> <li>默认使用加密</li></ul> <h3 id="http-2：二进制分帧层"><a href="#http-2：二进制分帧层" class="header-anchor">#</a> HTTP 2：二进制分帧层</h3> <ul><li>HTTP/2 所有性能增强的核心在于新的二进制分帧 层，它定义了如何封装 HTTP 消息并在客户端与服 务器之间传输。</li> <li>这里所谓的“层”指的是位于套接字接口与应用可见 的高级 HTTP API 之间一个经过优化的新编码机 制。</li> <li>HTTP/1.x 协议以换行符作为纯文本的分隔符，而 HTTP/2 将所有传输的信息分割为更小的消息和 帧，并采用二进制格式对它们编码。</li> <li>客户端和服务器会替我们完成必要的分帧工作。</li></ul> <h3 id="http-2：多路复用"><a href="#http-2：多路复用" class="header-anchor">#</a> HTTP 2：多路复用</h3> <ul><li>在 HTTP/1.x 中，如果客户端要想发起多个并行请求以提升性能，则必须使 用多个 TCP 连接。这种模型也会导致队首阻塞，从而造成底层 TCP 连接的 效率低下。</li> <li>将 HTTP 消息分解为独立的帧，交错发送，然后在另一端重新组装是 HTTP 2 重要的一项增强。这个机制会在整个网络技术栈中引发一系列连锁反 应，从而带来巨大的性能提升。</li></ul> <ul><li>并行交错地发送多个请求，请求之间互不影响。</li> <li>并行交错地发送多个响应，响应之间互不干扰。</li> <li>使用一个连接并行发送多个请求和响应。</li> <li>不必再为绕过 HTTP/1.x 限制而做很多工作</li> <li>消除不必要的延迟和提高现有网络容量的利用率，从而减少页面加载时 间。</li></ul> <h3 id="http-2：服务器推送"><a href="#http-2：服务器推送" class="header-anchor">#</a> HTTP 2：服务器推送</h3> <ul><li>HTTP/2 新增的另一个强大的新功能是，服务器可以对一个客户端请求发送多个响 应。 换句话说，除了对初请求的响应外，服务器还可以向客户端推送额外资源， 而无需客户端明确地请求。</li> <li>HTTP/2 打破了严格的请求-响应语义，支持一对多和服务器发起的推送工作流</li> <li>服务器已经知道客户端下一步要请求什么资源，这时候服务器推送即可派上用场。</li> <li>推送资源可以进行以下处理：</li></ul> <ul><li>由客户端缓存</li> <li>在不同页面之间重用</li> <li>与其他资源一起复用</li> <li>由服务器设定优先级</li> <li>被客户端拒绝</li></ul> <h3 id="http2的伪头字段"><a href="#http2的伪头字段" class="header-anchor">#</a> HTTP2的伪头字段</h3> <ul><li>伪头部字段是http2内置的几个特殊的以”:”开始的 key，用于替代HTTP/1.x中请求行/响应行中的信 息，比如请求方法，响应状态码等</li></ul> <ul><li>:method 目标URL模式部分（请求）</li> <li>:scheme 目标URL模式部分（请求）</li> <li>:authority 目标RUL认证部分（请求）</li> <li>:path 目标URL的路径和查询部分（绝对路径 产生式和一个跟着&quot;？&quot;字符的查询产生式）。 （请求）</li> <li>:status 响应头中的HTTP状态码部分（响应）</li></ul> <h2 id="了解-http3"><a href="#了解-http3" class="header-anchor">#</a> 了解 HTTP3</h2> <ul><li>运行在 QUIC 之上的 HTTP 协议被称为 HTTP/3（HTTP-over-QUIC）</li> <li>QUIC 协议（Quick UDP Internet Connection）基于 UDP，正是看中了 UDP 的速度与效率。同时 QUIC 也整合了 TCP、TLS 和 HTTP/2 的优 点，并加以优化。</li> <li>特点：</li></ul> <ul><li>减少了握手的延迟（1-RTT 或 0-RTT）</li> <li>多路复用，并且没有 TCP 的阻塞问题</li> <li>连接迁移，（主要是在客户端）当由 Wifi 转移到 4G 时，连接不 会被断开。</li></ul> <ul><li>HTTP 3与HTTP 1.1和HTTP 2没有直接的关系，也不是http2的扩展</li> <li>HTTP 3将会是一个全新的WEB协议</li> <li>HTTP 3目前处于制订和测试阶段</li> <li>https://www.chromium.org/quic</li></ul> <h2 id="后台服务与-http"><a href="#后台服务与-http" class="header-anchor">#</a> 后台服务与 HTTP</h2> <h3 id="队首阻塞问题"><a href="#队首阻塞问题" class="header-anchor">#</a> 队首阻塞问题</h3> <ul><li>HTTP/1.1 和 HTTP/2 都存在队头阻塞问题（Head of line blocking）</li> <li>HTTP/1.1 的队头阻塞。一个 TCP 连接同时传输 10 个请求，其中第 1、2、3 个请求已被客户端接收，但第 4 个请求丢失，那么后面第 5 - 10 个请求都被阻塞，需要等第 4 个请求处理完毕才能被处理，这样 就浪费了带宽资源。</li> <li>HTTP/2 的多路复用虽然可以解决“请求”这个粒度的阻塞，但 HTTP/2 的基础 TCP 协议本身却也存在着队头阻塞的问题。</li> <li>由于 HTTP/2 必须使用 HTTPS，而 HTTPS 使用的 TLS 协议也存在队 头阻塞问题。</li> <li>队头阻塞会导致 HTTP/2 在更容易丢包的弱网络环境下比 HTTP/1.1 更慢</li> <li>那 QUIC 解决队头阻塞问题的的方法：</li></ul> <ul><li>QUIC 的传输单元是 Packet，加密单元也是 Packet，整个加密、 传输、解密都基于 Packet，这样就能避免 TLS 的队头阻塞问题；</li> <li>QUIC 基于 UDP，UDP 的数据包在接收端没有处理顺序，即使中间 丢失一个包，也不会阻塞整条连接，其他的资源会被正常处理。</li></ul> <p><img src="/blog/20190815-http2-3.png" alt="图"></p> <h2 id="反向代理与web服务"><a href="#反向代理与web服务" class="header-anchor">#</a> 反向代理与WEB服务</h2> <h3 id="http与反向代理"><a href="#http与反向代理" class="header-anchor">#</a> HTTP与反向代理</h3> <ul><li>什么是代理，什么又是反向代理？</li></ul> <p>正向代理：
代理服务器放在出口。
限制访问权限；
监控访问记录；
作为内网缓存使用；</p> <p>反向代理：
代理服务器放在入口，可以理解为机房
只有一个入口，当客户端想要访问服务器时，需要由入口代理服务器进行反向代理转发到实际服务器上。
可以作为堡垒机使用。</p> <ul><li>为什么要使用反向代理？</li> <li>都有哪些反向代理服务器？</li></ul> <p><img src="/blog/20190815-http2-2.png" alt="图"></p> <h3 id="反向代理的用途"><a href="#反向代理的用途" class="header-anchor">#</a> 反向代理的用途</h3> <ul><li>加密和SSL加速</li> <li>负载均衡</li> <li>缓存静态内容</li> <li>压缩</li> <li>减速上传</li> <li>安全</li> <li>外网发布</li></ul> <h3 id="反向代理做负载均衡"><a href="#反向代理做负载均衡" class="header-anchor">#</a> 反向代理做负载均衡</h3> <p><img src="/blog/20190815-http2-1.png" alt="图"></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">11/8/2019, 4:51:43 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/2019-08-14-http1.html" class="prev">HTTP协议那些事(一)</a></span> <span class="next"><a href="/blog/2019-12-06-data.html">基础数据结构</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.4d237ac1.js" defer></script><script src="/assets/js/2.a060ff2c.js" defer></script><script src="/assets/js/29.488210dd.js" defer></script>
  </body>
</html>
